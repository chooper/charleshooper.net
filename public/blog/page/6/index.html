
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Charles Hooper</title>
  <meta name="author" content="Charles Hooper">

  
  <meta name="description" content="This entry is part 7 of 8 in the series Intro to Financial Reporting After Enron, Global Crossing, and Xerox, we witnessed the creation of new &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://www.charleshooper.net/blog/page/6">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="http://feeds.feedburner.com/subversity" rel="alternate" title="Charles Hooper" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/lib/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-12888528-1']);
    _gaq.push(['_trackPageview']);

    setTimeout("_gaq.push(['_trackEvent', '60_seconds', 'read'])", 60000);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>



</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Charles Hooper</a></h1>
  
    <h2>Thoughts and projects from a Hacker and Operations Engineer</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="http://feeds.feedburner.com/subversity" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:www.charleshooper.net" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
	<li><a href="/about/">About Charles</a></li>
	<li><a href="/projects/">Projects</a></li>
	<li><a href="/contact/">Contact</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/financial-crises-and-the-cycle-continues/">Financial Crises: And the Cycle Continues</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-07-19T00:00:00-07:00" pubdate data-updated="true">Jul 19<span>th</span>, 2010</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h1 id="section"></h1>

<p>This entry is part 7 of 8 in the series <a href="http://www.charleshooper.net/blog/series/intro-to-financial-reporting/" title="Intro to Financial Reporting">Intro to Financial Reporting</a></p>

<p>After Enron, Global Crossing, and Xerox, we witnessed the creation of new regulation (the Sarbanes-Oxley Act of 2002), the establishment of a new oversight/regulatory organization, and increased pressure from the government on big players in the market. As we find ourselves in the midst of the Financial Crisis of 2007 (and onward,) we are seeing this same pattern – new legislation, a new regulatory organization, and increased pressure from the government on big players in the market.</p>

<p>In news today, we see the Restoring American Financial Stability Act of 2010 and the Wall Street Reform and Consumer Protection Act of 2009 on the desk of the President. This 2,300-page bill will “ban high-risk trading inside the banks and put in end to conflicts of interest” and “ban steering payments, liar loans, and prepayment penalties and give Americans … transparency” (Nichols, 2010, para. 4-5). But that isn’t all. These new acts would also create yet another oversight/regulatory organization called the Consumer Financial Protection Bureau to regulate mortgages, credit cards, and other financial consumer products (Hall, 2010, fig. 1). Not only does this act establish a new bureau, it also creates a “council of regulators” led by the Treasury to monitor “threats to the financial situation” (Hall, 2010, fig. 1).</p>

<p>And as if you couldn’t already guess, today in the news we see increased pressure from the government on big players in the market including Goldman Sachs, Dell, and AIG. Goldman Sachs agreed to settle by paying a $550 million dollar fine – the largest fine ever charged by the SEC after being accused of securities fraud (Craig, Scannel, 2010, para. 3). Dell admitted to accounting fraud back in 2007 and agreed on a settlement with the SEC today – The company must pay a $100 fine and restate its earnings for the 2003 to 2006 accounting periods (Ogg, 2010, para. 2-3). What Dell was caught doing was violating GAAP, the Global Accepted Accounting Principles, by “fudging” the timing of recognized expenses and income to meet analyst’s quarterly earnings forecasts (Ogg, 2010, para. 1,4). And if that isn’t enough, the AIG settled with the Ohio State Attorney General with a $725 million fine (AFP, 2010, para. 1). The AIG was also accused of accounting fraud to achieve stock price manipulation (AFP, 2010, para. 2).</p>

<p>As we can clearly see, after each financial crisis the response is likely to be the same.</p>

<p>AFP. (2010). AIG to Pay 725 Million Dollars to Settle US Fraud Lawsuit. Retried from http://www.google.com/hostednews/afp/article/ALeqM5h0MtX-uuAB1z2f3dcmONOLRCIWaw</p>

<p>Craig, Susanne, Kara Scannel. The Wall Street Journal. (2010). SEC Split Over Goldman Deal. Retrieved from http://online.wsj.com/article/SB10001424052748704229004575371601322076426.html?mod=WSJ_hpp_LEFTTopStories</p>

<p>Hall, Kevin. McClatchy Newpapers. (2010). What’s this big finance-regulation overhaul really do? Retrived from http://www.mcclatchydc.com/2010/07/15/97609/whats-this-big-finance-regulation.html</p>

<p>Ogg, Erica. CNET. (2010). Dell to Restate Earnings Due to Accounting Fraud. Retrieved from http://news.cnet.com/8301-31021_3-20007390-260.html</p>

<p>Ogg, Erica. CNET. (2010). Goals Led Dell to Cook the Books. Retrieved from http://news.cnet.com/Goals-led-Dell-to-cook-the-books/2100-1014_3-6203071.html?tag=mncol;txt</p>

<p>Nichols, John. The Nation. (2010). Financial Reform Passes, But What Does That Mean? Retrieved from http://www.thenation.com/blog/37541/financial-reform-passes-what-does-mean</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/why-was-the-sarbanes-oxley-act-of-2002-created-and-how-does-it-impact-financial-reporting-today/">Why Was the Sarbanes-Oxley Act of 2002 Created and How Does It Impact Financial Reporting Today?</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-07-09T00:00:00-07:00" pubdate data-updated="true">Jul 9<span>th</span>, 2010</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h1 id="section"></h1>

<p>This entry is part 5 of 8 in the series<a href="http://www.charleshooper.net/blog/series/intro-to-financial-reporting/" title="Intro to Financial Reporting">Intro to Financial Reporting</a></p>

<p>The Sarbanes-Oxley Act of 2002, also known as the SOX Act, was created in response to the series of misleading and outright fraudulent activity of big business in the 1990s (Lasher, 2008, p. 187). Essentially, multiple publicly-traded businesses jacked up their stock prices by “publishing false or deceptive financial statements” (Lasher, 2008, p. 187). The most notable company to crash was Enron, followed by Global Crossing (parent of MCI,) and Xerox; later, almost one thousand publicly traded companies restated their financial statements (Lasher, 2008, p. 187). This resulted in almost $6 trillion of stock market value disappearing (Lasher, 2008, p. 187)! In response to these events, Congress drafted and passed the Sarbanes-Oxley Act (SOX) of 2002.</p>

<p>Next, we look to the provisions of the Sarbanes-Oxley Act of 2002 to see how they impact the way firms prepare their financial statements. The first and most major way the SOX Act impacted financial reporting was that it ended self-regulation of the public accounting industry (Lasher, 2008, p. 190). The SOX Act achieved this by establishing the Public Company Accounting Oversight Board (PCAOB,) an independent, non-profit organization (Lasher, 2008, p. 190). The PCAOB is given authority and empowered by the Securities Exchange Commission (SEC) to regulate and enforce these regulations of the accounting industry (Lasher, 2008, p. 190). Under the regulations of the SOX Act and the PCAOB, it is now required for all accounting firms to be registered and illegal for an unregistered firm to issue audit reports for publicly-traded companies (Lasher, 2008, p. 190). The PCAOB is empowered and directed to perform investigations of questionable accounting practices, hold disciplinary hearings, and impose sanctions upon firms and individuals who auditors who are caught letting wrongdoings “slide” (Lasher, 2008, p. 190). Another way the SOX Act effectively restores the integrity of financial statements is by removing a very large conflict of interest that existed in the 1990s. This conflict of interest existed for accounting firms that also provided consulting services to their clients; under the SOX Act, these types of relationships became illegal and firms that had audit clients could no longer offer these same clients additional consulting services (Lasher, 2008, p. 190). Another major conflict of interest that was removed was the relationships between auditors and the audited firm’s CEO and CFO. Instead of reporting to the firm’s executives, auditors now reported to an “audit committee” of the firm’s Board of Directors; At least one member of which is legally required to be a financial expert (Lasher, 2008, p. 190). Finally, partners of an auditing firm can only supervise the same client for five years at a time (Lasher, 2008, p. 191). The final main problem that the SOX Act addresses is the potential conflict of interest between a firm and its executives, also known as the agency problem (Lasher, 2008, p. 192). The SOX Act achieved this by requiring CEOs and CFOs to certify that they reviewed their firm’s financial statements, that they are true to the best of their knowledge, to also certify that they are personally responsible for their firm’s internal financial controls, and by requiring that company executives repay bonuses and capital gains from stock sales if they follow within 12 months of the issue of financial statements and the gains are made as a “result of misconduct” (Lasher, 2008, p. 191).</p>

<p>Lasher, William R. (2008). Practical Financial Management (5th ed.). Thomson South-Western.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/python-subprocess-module-on-backtrack-4/">Python: Subprocess Module on BackTrack 4</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-07-08T00:00:00-07:00" pubdate data-updated="true">Jul 8<span>th</span>, 2010</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h1 id="section"></h1>

<p>I had trouble getting the <a href="http://docs.python.org/library/subprocess.html">subprocess</a> module onto <a href="http://www.backtrack-linux.org/">BackTrack 4</a>. <em>apt-get install python-subprocess</em> wouldn’t do it, nor would <em>easy_install subprocess</em>. As it turns out, the name of the backported subprocess module is <em>subprocess32</em>, so <strong>easy_install subprocess32</strong> fixed me up real good.</p>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/who-regulates-financial-reporting/">Who Regulates Financial Reporting?</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-07-02T00:00:00-07:00" pubdate data-updated="true">Jul 2<span>nd</span>, 2010</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h1 id="section"></h1>

<p>This entry is part 4 of 8 in the series <a href="http://www.charleshooper.net/blog/series/intro-to-financial-reporting/" title="Intro to Financial Reporting">Intro to Financial Reporting</a></p>

<p>As previously discussed, financial statements can sometimes have their own “dialect,” in a manner of speaking. Additionally, financial statements can be subject to accounting fraud because management is usually rewarded based on their firm’s performance which is measured based on the financial statements that they prepare. It is for these reasons that oversight and regulation of financial reporting is necessary. In addition to the Generally Accepted Accounting Principles (GAAP,) financial reporting is regulated by organizations such as the Securities Exchange Commission (SEC), the Financial Accounting Standards Board (FASB), and the International Accounting Standards Board (IASB) (Wild, Shaw, &amp; Chiappetta, 2009, p. 9).</p>

<p>The mission of the Securities Exchange Commission, or SEC (2010), is to “protect investors, maintain fair, orderly, and efficient markets, and facilitate capital formation” (para. 1). The SEC maintains that all investors, whether larger or small, should have all of the basic information of a security required to make investment decisions (para 6). As a result, the SEC requires all publicly traded companies to disclose “meaningful financial and other information to the public” (para 6). The SEC was formed under the Securities Act of 1933 and the Securities Exchange Act of 1934 in the wake of the great depression to restore confidence in the stock markets (para 16).</p>

<p>Next, we have the Financial Accounting Standards Board, or FASB. Similar to the SEC, the FASB aims ensure that investors have useful information for making investment decisions. More specifically, the FASB’s mission is to “establish and improve standards of financial accounting and reporting that foster financial reporting by nongovernmental entities that provides decision-useful information to investors and other users of financial reports” (para 3). The FASB notes on their website that while the SEC has the legal authority to establish the financial accounting and reporting standards, the SEC’s position is to rely on private organizations, like the FASB, for this function (para 2).</p>

<p>Finally, we have the International Accounting Standards Board, or IASB. The IASB (2010) is responsible for developing and publishing International Financial Reporting Standards (or IFRSes,) ensuring that these standards are enforceable, and promoting their use (para 1).</p>

<p>To conclude, because financial statements can sometimes have their own “dialect” and are subject to accounting fraud there are various organizations that are required to regulate the preparing and publishing of them. The major organizations responsible for this are the Securities Exchange Commission (SEC), the Financial Accounting Standards Board (FASB), and the International Accounting Standards Board (IASB).</p>

<p>Chiappetta, B., Shaw, K., Wild, J. (2009). Principles of Financial Accounting (19th ed.). McGraw-Hill/Irwin.<br />
Financial Accounting Standards Board [FASB]. Facts about FASB. Retrieved from http://www.fasb.org/jsp/FASB/Page/SectionPage&amp;cid=1176154526495<br />
International Accounting Standards Board [IASB]. (2010). About the IASCF Foundation and the IASB. Retrieved from http://www.iasb.org/The organisation/IASCF and IASB.htm<br />
Securities Exchange Commission [SEC]. (2010). How the SEC Protects Investors, Maintains Market Integrity, and Facilitates Capital Formation. Retrieved from http://www.sec.gov/about/whatwedo.shtml</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/what-is-financial-reporting-and-who-uses-financial-reports/">What Is Financial Reporting and Who Uses Financial Reports?</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-07-02T00:00:00-07:00" pubdate data-updated="true">Jul 2<span>nd</span>, 2010</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h1 id="section"></h1>

<p>This entry is part 1 of 7 in the series <a href="http://www.charleshooper.net/blog/series/intro-to-financial-reporting/" title="Intro to Financial Reporting">Intro to Financial Reporting</a></p>

<p>If “accounting is the language of finance” (Lasher, 2008, p. 9) then financial reporting is the “communication of financial information useful for making investment, credit, and other business decisions” (Wild, Shaw, &amp; Chiappetta, 2009, p. 681) Such communications include general purpose financial statements such as income statements, balance sheets, equity reports, cash flow reports, and notes to these statements. Additionally, items such as SEC filings, press releases, meeting minutes, and auditor’s reports are also included in financial reporting (Wild, Shaw, &amp; Chiappetta, 2009, p. 681). Many financial reports, or the accounts and data they represent, are subject to various regulations and standards from organizations such as the Securities Exchange Commission (SEC), the Financial Accounting Standards Board (FASB), and the International Accounting Standards Board (IASB) (Wild, Shaw, &amp; Chiappetta, 2009, p. 9). Much like any language, financial statements could have their own “dialect” so to speak. For example, knowing about the use of cash-based accounting versus accrual based accounting could impact some very serious business or investment decisions. The various regulations, standards, and Generally Accepted Accounting Principles (GAAP) helps to make sure we’re all on the same page.</p>

<p>In the broad sense of the term, everyone uses financial reports! We all receive receipts when we make purchases from stores and we all receive bills. In a sense, these are both financial reports that communicate to us the status of our accounts or individual transactions. When we focus on business, however, we can more easily focus on managers, investors, creditors, and even the government. Managers use financial reports to make business decisions. For example, if a manager of a manufacturing firm saw from internal financial and inventory reports that product returns were high then that manager might push for increased quality control. Investors and potential investors alike use general-purpose financial reports so frequently that companies often release them together in a bundle called “investor reports,” “annual reports,” or “shareholder reports.” Investors would use this information to help make a decision about whether they will buy, sell, or hold onto a particular company’s stock. Another large group of people who use financial reports are creditors. A creditor would use financial reports to determine their risk in loaning money to a particular company.</p>

<p>Lasher, William R. (2008). Practical Financial Management (5th ed.). Thomson South-Western.<br />
Chiappetta, B., Shaw, K., Wild, J. (2009). Principles of Financial Accounting (19th ed.). McGraw-Hill/Irwin.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/what-are-some-of-the-main-financial-documents-used-in-financial-reporting/">What Are Some of the Main Financial Documents Used in Financial Reporting?</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-07-02T00:00:00-07:00" pubdate data-updated="true">Jul 2<span>nd</span>, 2010</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h1 id="section"></h1>

<p>This entry is part 2 of 8 in the series <a href="http://www.charleshooper.net/blog/series/intro-to-financial-reporting/" title="Intro to Financial Reporting">Intro to Financial Reporting</a></p>

<p>According to Lasher’s “Practical Financial Management,” the three financial statements of interest to us are the income statement, the balance sheet, and the statement of cash flows (Lasher, 2008, p. 26).</p>

<p>The income statement’s name is pretty self-explanatory. That is, the
income statement reports “how much money a company has earned [and
spent] during the accounting period” (Lasher, 208, p. 28). A public, or
external, income statement may be very vague while a income statement
that is used internally may include much more detail. Despite these
differences, the net income will be reported as the same. Net income
goes by some other names as well, including “earnings” or “profit”
(Lasher, 2008, p. 30). When a company loses money, net income is
referred to as net loss. One important thing to note is that “net income
is not equivalent to cash in the firm’s pocket” (Lasher, 2008, p. 30).
This is because many businesses make sales on credit.</p>

<p>While the income statement shows the movement of money within a firm, a
balance sheet depicts a snapshot of “everything a company owns and
everything it owes at a moment in time” (Lasher, 2008, p. 30). This
includes a firm’s assets, liabilities, and equity. For those who aren’t
familiar, this depicts the entire accounting equation: assets =
liabilities equity (Lasher, 2008, p. 30). Assets are “things,” whether
physical of financial, that a company owns. This includes everything
from real estate to manufacturing equipment and even stocks or bonds in
other companies. Assets are listed in descending order of liquidity on
the balance sheet (Lasher, 2008, p. 31). Meanwhile, liabilities includes
money that the company owes, ie: debt. Liabilities are listed in order
of when they are due. The final portion of the equation is equity.
Equity is money put into the business by its owners. . The two types of
equity are direct investment and retained earnings (Lasher, 2008, p.
39).</p>

<p>The statement of cash flows helps to figure out how much cash the
company is really making in the short run (Lasher, 2008, p. 30). In
other words, the statement of cash flows shows “where the firm’s money
came from and what it was spent on” (Lasher, 2008, p. 70). Another name
for the statement of cash flows is the “statement of changes in
financial position.”</p>

<p>Lasher, William R. (2008). Practical Financial Management (5th ed.). Thomson South-Western.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/series/intro-to-financial-reporting/">Financial Reporting</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-07-02T00:00:00-07:00" pubdate data-updated="true">Jul 2<span>nd</span>, 2010</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h1 id="section"></h1>

<p>This is the series <a href="http://www.charleshooper.net/blog/series/intro-to-financial-reporting/" title="Intro to Financial Reporting">Intro to Financial Reporting</a></p>

<p>At the date of publication, I was taking summer classes for Sociology and Principles of Finance. As part of the class, I was required to write a one page paper each week on a topic I chose. I chose Financial Reporting. At the end of the semester, these papers were concatenated and turned into one monstrous paper. <a href="http://japherwocky.posterous.com/">japherwocky</a> suggested post the papers to a blog, so here they are.</p>

<ol>
  <li><a href="http://www.charleshooper.net/blog/what-are-some-of-the-main-financial-documents-used-in-financial-reporting/">What Are Some of the Main Financial Documents Used in Financial Reporting?</a></li>
  <li><a href="http://www.charleshooper.net/blog/what-is-financial-reporting-and-who-uses-financial-reports/">What Is Financial Reporting and Who Uses Financial Reports?</a></li>
  <li><a href="http://www.charleshooper.net/blog/what-are-the-generally-accepted-accounting-principles-gaap/">What Are the Generally Accepted Accounting Principles (GAAP)?</a></li>
  <li><a href="http://www.charleshooper.net/blog/who-regulates-financial-reporting/">Who Regulates Financial Reporting?</a></li>
  <li><a href="http://www.charleshooper.net/blog/why-was-the-sarbanes-oxley-act-of-2002-created-and-how-does-it-impact-financial-reporting-today/">Why Was the Sarbanes Oxley Act of 2002 Created and How Does it Impact Financial Reporting Today?</a></li>
  <li><a href="http://www.charleshooper.net/blog/who-was-enron-and-why-is-this-important-to-financial-reporting-today/">Who Was Enron and Why Is This Important to Financial Reporting Today?</a></li>
  <li><a href="http://www.charleshooper.net/blog/financial-crises-and-the-cycle-continues/">Financial Crises: And the Cycle Continues</a></li>
</ol>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/financial-reporting/">Financial Reporting</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-07-02T00:00:00-07:00" pubdate data-updated="true">Jul 2<span>nd</span>, 2010</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h1 id="section"></h1>

<p>This entry is part 1 of 8 in the series <a href="http://www.charleshooper.net/blog/series/intro-to-financial-reporting/" title="Intro to Financial Reporting">Intro to Financial Reporting</a></p>

<p>At the date of publication, I was taking summer classes for Sociology and Principles of Finance. As part of the class, I was required to write a one page paper each week on a topic I chose. I chose Financial Reporting. At the end of the semester, these papers were concatenated and turned into one monstrous paper. <a href="http://japherwocky.posterous.com/">japherwocky</a> suggested post the papers to a blog, so here they are.</p>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/python-starting-tornado-apps-at-boot-using-upstart/">Python: Starting Tornado Apps at Boot Using Upstart</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-05-08T00:00:00-07:00" pubdate data-updated="true">May 8<span>th</span>, 2010</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h1 id="section"></h1>

<p>Today, I’m going to show you how to start up your <a href="http://www.tornadoweb.org/">Tornado</a> apps at
boot using <a href="http://upstart.ubuntu.com/">upstart</a>. For path names, I’m assuming some modern
version of Ubuntu, such as 9.10 or higher. I’m also assuming that you
have some project with an executable Python script that fires up the
Tornado app. I usually have one file in all of my projects called
<code>web.py</code>.</p>

<p>The important part of this file looks like this (mind the application and port variables):</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span>Snippet in web.py </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
</pre></td><td class="code"><pre><code class="py"><span class="line"><span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">&quot;__main__&quot;</span><span class="p">:</span>
</span><span class="line">	<span class="n">http_server</span> <span class="o">=</span> <span class="n">tornado</span><span class="o">.</span><span class="n">httpserver</span><span class="o">.</span><span class="n">HTTPServer</span><span class="p">(</span><span class="n">application</span><span class="p">)</span>
</span><span class="line">	<span class="n">http_server</span><span class="o">.</span><span class="n">listen</span><span class="p">(</span><span class="n">port</span><span class="p">)</span>
</span><span class="line">	<span class="n">tornado</span><span class="o">.</span><span class="n">ioloop</span><span class="o">.</span><span class="n">IOLoop</span><span class="o">.</span><span class="n">instance</span><span class="p">()</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>Got that in place? Good.  Next, <strong>make a system user</strong> for your project to run
as. In my example, I’ll be using <code>projectuser</code> as the username. Creating this
user can be done like so:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
</pre></td><td class="code"><pre><code class=""><span class="line">sudo useradd --system --user-group projectuser</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>Finally, create the file <code>/etc/init/web.conf</code>. It’s
<em>very</em> important that this filename ends in <strong>.conf</strong>. The contents of this
file should be as follows:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
</pre></td><td class="code"><pre><code class=""><span class="line">\# torando project
</span><span class="line">start on runlevel 2
</span><span class="line">stop on runlevel \[!2\]
</span><span class="line">respawn
</span><span class="line">
</span><span class="line">setuid projectuser
</span><span class="line">setgid projectuser
</span><span class="line">
</span><span class="line">exec /path/to/project/web.py</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>That’s it! You can start your Tornado app by entering the command:
<code>sudo start web</code>. If successful, you should see output similar to:
` ** web start/running, process 28058<code>. You can also stop your projects using
the command </code>sudo stop web`.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/dropping-privileges-in-python-for-tornado-apps/">Dropping Privileges in Python for Tornado Apps</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-05-08T00:00:00-07:00" pubdate data-updated="true">May 8<span>th</span>, 2010</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h1 id="section"></h1>

<p>Today, I’m going to show you how to drop from the root user to an unprivileged user in Python for the purpose of running a <a href="http://www.tornadoweb.org/">Tornado</a> app.</p>

<p>First <strong>make a system user</strong> for your project to run as. In my example,
I’ll be using <code>projectuser</code> as the username. Creating this user can be done like so: </p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
</pre></td><td class="code"><pre><code class=""><span class="line">sudo useradd --system --user-group projectuser</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>Now, in your script that is responsible for starting your Tornado app, you likely have something that probably looks like the following: </p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span>Snippet in web.py </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
</pre></td><td class="code"><pre><code class="py"><span class="line"><span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">&quot;__main__&quot;</span><span class="p">:</span><span class="err"> </span>
</span><span class="line"><span class="err">   </span> <span class="n">http_server</span> <span class="o">=</span> <span class="n">tornado</span><span class="o">.</span><span class="n">httpserver</span><span class="o">.</span><span class="n">HTTPServer</span><span class="p">(</span><span class="n">application</span><span class="p">)</span><span class="err"> </span>
</span><span class="line"><span class="err">   </span> <span class="n">http_server</span><span class="o">.</span><span class="n">listen</span><span class="p">(</span><span class="n">port</span><span class="p">)</span><span class="err"> </span>
</span><span class="line"><span class="err">   </span> <span class="n">tornado</span><span class="o">.</span><span class="n">ioloop</span><span class="o">.</span><span class="n">IOLoop</span><span class="o">.</span><span class="n">instance</span><span class="p">()</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>What we need to do now is define a user to run as and then drop
privileges using a call to <code>setuid</code>. We can do this by replacing the above with: </p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span>Modification to web.py </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
</pre></td><td class="code"><pre><code class="py"><span class="line"><span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">&quot;__main__&quot;</span><span class="p">:</span>
</span><span class="line"><span class="err">   </span> <span class="kn">import</span> <span class="nn">os</span>
</span><span class="line"><span class="err">   </span> <span class="kn">import</span> <span class="nn">pwd</span>
</span><span class="line"><span class="err">   </span> <span class="c"># define user to run as</span>
</span><span class="line"><span class="err">   </span> <span class="n">run_as_user</span> <span class="o">=</span> <span class="s">&quot;projectuser&quot;</span>
</span><span class="line"><span class="err">   </span> <span class="c"># drop privileges</span>
</span><span class="line"><span class="err">   </span> <span class="n">uid</span> <span class="o">=</span> <span class="n">pwd</span><span class="o">.</span><span class="n">getpwnam</span><span class="p">(</span><span class="n">run_as_user</span><span class="p">)[</span><span class="mi">2</span><span class="p">]</span>
</span><span class="line"><span class="err">   </span> <span class="n">os</span><span class="o">.</span><span class="n">setuid</span><span class="p">(</span><span class="n">uid</span><span class="p">)</span>
</span><span class="line"><span class="err">   </span> <span class="c"># start tornado app</span>
</span><span class="line"><span class="err">   </span> <span class="n">http_server</span> <span class="o">=</span> <span class="n">tornado</span><span class="o">.</span><span class="n">httpserver</span><span class="o">.</span><span class="n">HTTPServer</span><span class="p">(</span><span class="n">application</span><span class="p">)</span>
</span><span class="line"><span class="err">   </span> <span class="n">http_server</span><span class="o">.</span><span class="n">listen</span><span class="p">(</span><span class="n">port</span><span class="p">)</span>
</span><span class="line"><span class="err">   </span> <span class="n">tornado</span><span class="o">.</span><span class="n">ioloop</span><span class="o">.</span><span class="n">IOLoop</span><span class="o">.</span><span class="n">instance</span><span class="p">()</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>And voila, your app should now run as the user you defined! Do note that
only the root user can call <code>setuid</code>. As a result, your script now needs
to be run using <code>sudo</code> or from an <a href="http://subversity.net/python-starting-tornado-apps-at-boot-using-up">upstart startup script</a>, for example. </p>

<p>One caveat is that you won’t be able to use port numbers below 1024
since you are dropping to an unprivileged user before binding to the
port. I think there’s a way to get around this by replacing
<code>http_server.listen()</code> with <code>http_server.bind()</code>, <code>http_server.start()</code>,
and dropping privileges between those calls, but this remains untested
for now. Alternatively, you could use the respective <em>proxy modules</em> for
<a href="http://redmine.lighttpd.net/wiki/1/Docs:ModProxy">Lighttpd</a> or <a href="http://www.tornadoweb.org/documentation#running-tornado-in-production">nginx</a> to listen on privileged ports.</p>

</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/blog/page/7/">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/blog/page/5/">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
	<script async src="http://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js">
	</script>
	<ins class="adsbygoogle"
			 style="display:inline-block;width:250px;height:250px"
			 data-ad-client="ca-pub-9122341512723010"
			 data-ad-slot="3737400086"></ins>
	<script>
		(adsbygoogle = window.adsbygoogle || []).push({});
	</script>
</section>
<section>
  <h1>About Charles</h1>
	<img src="/wp-content/uploads/me-150x150.jpg" alt="Charles Hooper"/>
	<p>Charles is a hacker with a background in systems and operations engineering. He enjoys hacking on side projects, gardening, and home brewing.</p>
</section>
<section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/troubleshooting-elbs-with-elbping/">Troubleshooting ELBs with elbping</a>
      </li>
    
      <li class="post">
        <a href="/blog/my-def-con-21-experience/">My DEF CON 21 Experience</a>
      </li>
    
      <li class="post">
        <a href="/blog/why-i-moved-to-san-francisco/">Why I moved to San Francisco</a>
      </li>
    
      <li class="post">
        <a href="/blog/how-i-hacked-my-high-school/">How I Hacked My High School</a>
      </li>
    
      <li class="post">
        <a href="/blog/personal-kaizen-self-improvement/">My Personal Kaizen</a>
      </li>
    
  </ul>
</section>

<section>
	<script async src="http://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js">
	</script>
	<ins class="adsbygoogle"
			 style="display:inline-block;width:250px;height:250px"
			 data-ad-client="ca-pub-9122341512723010"
			 data-ad-slot="3737400086"></ins>
	<script>
		(adsbygoogle = window.adsbygoogle || []).push({});
	</script>
</section>

  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2013 - Charles Hooper -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'charleshooper';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
