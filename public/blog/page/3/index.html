
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Charles Hooper</title>
  <meta name="author" content="Charles Hooper">

  
  <meta name="description" content="DevOps is all about trying to avoid that epic failure and working smarter and more efficiently at the same time. It is a framework of ideas and &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://www.charleshooper.net/blog/page/3">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="http://feeds.feedburner.com/subversity" rel="alternate" title="Charles Hooper" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/lib/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-12888528-1']);
    _gaq.push(['_trackPageview']);

    setTimeout("_gaq.push(['_trackEvent', '60_seconds', 'read'])", 60000);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>



</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Charles Hooper</a></h1>
  
    <h2>Thoughts and projects from a Hacker and Operations Engineer</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="http://feeds.feedburner.com/subversity" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:www.charleshooper.net" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
	<li><a href="/about/">About Charles</a></li>
	<li><a href="/projects/">Projects</a></li>
	<li><a href="/contact/">Contact</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/concurrent-engineering-the-foundation-of-devops/">Concurrent Engineering: The Foundation of DevOps</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-12-07T00:00:00-08:00" pubdate data-updated="true">Dec 7<span>th</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h1 id="section"></h1>

<blockquote>
  <p>DevOps is all about trying to avoid that epic failure and working smarter and more efficiently at the same time. It is a framework of ideas and principles designed to foster cooperation, learning and coordination between development and operational groups. In a DevOps environment, developers and sysadmins build relationships, processes, and tools that allow them to better interact and ultimately better service the customer (<a href="http://www.kartar.net/2010/02/what-devops-means-to-me/" title="What DevOps Means to Me">James Turnbull</a>).</p>
</blockquote>

<p>At the time of writing, if you were to search for “devops” you would find eight results attempting to explain what devops is, one result for a conference, and one rather satirical article (although not necessarily incorrect) where the author answers the question of “how do you implement devops” with “<a href="http://teddziuba.com/2011/03/devops-scam.html" title="DevOps is a Poorly Executed Scam">nobody seems to know</a>” (Ted Dziuba).</p>

<p>The big problem with the DevOps “movement” is that we essentially have a bunch of operations and development people promoting it and trying to implement it within their organizations. Meanwhile, those with management and business responsibilities, even if explained the “what,” don’t understand the “how.” Just because you use puppet does not necessarily mean your organization is practicing DevOps.</p>

<p>This shortcoming is the result of us devops proponents either falsely claiming these techniques and methodologies are new or not knowing any better. If we had something more relatable for the business people (and, by principle, <em>we</em> should be business-oriented, too) then I think DevOps would have more of a chance.</p>

<p>Well, get your product and management together because the truth is that DevOps is actually a form of Concurrent Engineering.</p>

<blockquote>
  <p>Concurrent Engineering (CE) is a systematic approach to integrated product development that emphasizes the response to customer expectations. It embodies team values of co-operation, trust and sharing in such a manner that decision making is by consensus, involving all perspectives in parallel, from the beginning of the product life-cycle (<a href="http://www.esa.int/esaMI/CDF/SEM1OF1P4HD_0.html" title="What is concurrent engineering?">ESA – Concurrent Engineering Facility</a>).</p>
</blockquote>

<p>Concurrent Engineering encompasses several major principles which just so happen to fit the definition (however formal or informal) of devops.</p>

<p>I’ll list them from the <a href="http://best.berkeley.edu/~pps/pps/concurrent.html#basic" title="Basic Principles of Concurrent Engineering">Synthesis Coalition</a> here:</p>

<ul>
  <li>Get a strong commitment from senior management.</li>
  <li>Establish unified project goals and a clear business mission.</li>
  <li>Develop a detailed plan early in the process.</li>
  <li>Continually review your progress and revise your plan.</li>
  <li>Develop project leaders that have an overall vision of the project and goals.</li>
  <li>Analyze your market and know your customers.</li>
  <li>Suppress individualism and foster a team concept.</li>
  <li>Establish and cultivate cross-functional integration and collaboration.</li>
  <li>Break project into its natural phases.</li>
  <li>Develop metrics.</li>
  <li>Set milestones throughout the development process.</li>
  <li>Collectively work on all parts of project.</li>
  <li>Reduce costs and time to market.</li>
  <li>Complete tasks in parallel.</li>
</ul>

<p>By approaching the issues of devops as  concurrent engineering and implementing it as such, you open the movement to a well-researched, well-documented, and well-accepted product design philosophy. By shedding this light on the devops methodologies, this enables those of us pushing the devops movement to finally put the movement into a more business-oriented perspective.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/hypersensitivity-and-political-correctness/">Hypersensitivity and Political Correctness</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-08-19T00:00:00-07:00" pubdate data-updated="true">Aug 19<span>th</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h1 id="section"></h1>

<p>I wrote a blog post this week on how <a href="http://www.charleshooper.net/blog/stop-letting-tech-people-be-socially-inept/" title="Stop Letting Technical People Get Away With Social Ineptitude">engineers or “technical people” don’t have to, and shouldn’t, be jerks</a>. My argument was that the stereotype that <em>technically-minded people are bad at social skills</em> was just that, a stereotype, and that employers should stop allowing us to get away with it. I knew it was going to be controversial when I wrote it, especially because the type of people who find my blog (HackerNewsers) <em>are</em> usually technically-minded people (with a nod to the rest of you entrepreneurs, biz, and VC folk). As expected, a large chunk of commentors (both on HN and on my blog) disagreed with my argument and a large chunk agreed.</p>

<p>What I did not expect, however, was to be misunderstood so severely that I would be accused of wanting to ruin the lives of those who are “psychologically incapable” of learning social skills. One commentor posted a picture of a child with autism and accused me of trying to make him a second-class, unemployable citizen. Another commentor went as far as to paint a grisly picture of these “psychologically incapable” people committing suicide – all because of me.</p>

<p>This blog is set up in such a way that I must manually approve comments from first-time commentors. This means that I have read every comment that was posted to my article (a few people posted more than once, but I read those too) before they appeared on my blog. I approved the comments despite the fact that I found them extremely upsetting because, even though this is my blog, I felt that everyone deserved to be heard.</p>

<p>I want to take the opportunity to say that I think this combination of hypersensitivity and political correctness is an awful thing. It’s OK to be offended, but I feel that very often the thing that offends us is a misunderstanding. In this case, my point was that <em>engineers shouldn’t be jerks and should instead learn some social skills so they can interact more effectively with co-workers and clients</em> but it was misunderstood as <em>if you’re bad at social skills, even if you can’t help it, then you should be treated like garbage</em>. I don’t think that bloggers should have to acknowledge every exception to the points they make or write disclaimers into each of their posts – that kind of defeats the point (which I feel is<em> free speech on a massive scale</em>, by the way).</p>

<p>So please, the next time you feel offended, consider asking the offender for clarification before you react. You might save yourself, and them, from a lot of unnecessary heartache.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/stop-letting-tech-people-be-socially-inept/">Stop Letting Technical People Get Away With Social Ineptitude</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-08-17T00:00:00-07:00" pubdate data-updated="true">Aug 17<span>th</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h1 id="section"></h1>

<p>As a technical person who has worked many customer-facing support roles,
I’m offended by the often-cited notion that technical people have poor
people skills or are poor at filling customer support roles. Earlier
this week, a web host incited a Public Relations nightmare when their
“Technical Director” responded childishly to some customers, disabled
their accounts, and deleted their backups. The company’s response was to
create a new customer support position so they could keep their
Technical Director yet isolate him from their customers. In this new
customer support personnel’s recap of the situation, he wrote:</p>

<blockquote>
  <p>Jules is the Technical Director. Jules does a fantastic job looking
after things and keeping the infrastructure running well.
Unfortunately though, as is often the case with very technically
minded people, customer service is not always his strong point.</p>
</blockquote>

<p>As I stated above, I find this absolutely offensive. Unfortunately, it’s
often believed to be true because there <em>are</em> so many engineers and
technical personnel with poor people skills. I never have seen
statistics to support the notion that the ratio is <em>higher</em> in these
professions than in others, yet employers often find that people filling
these roles with poor people skills are still employable. This needs to
stop.</p>

<p>I’m of the opinion that every position is customer-facing. Sure, some
positions might not interface with the <em>company’s</em> customers, but the
position is likely to have customers of its own – whether internal or
external. All it takes for someone to be good at customer service is:</p>

<ul>
  <li>The understanding that they represent their employer and that people are relying on them,</li>
  <li>A compassionate, helpful, and courteous attitude,</li>
  <li>The knowledge of whatever they’re supporting.</li>
</ul>

<p>Frankly, if you don’t have those qualities, how can you work with anyone at all?</p>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/problems-at-scale/">Problems at Scale</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-08-13T00:00:00-07:00" pubdate data-updated="true">Aug 13<span>th</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h1 id="section"></h1>

<p>Over on <a href="http://news.ycombinator.com/item?id=2881122">HackerNews</a>, saturn wrote that:</p>

<blockquote>
  <p>Cloud computing scales the efficiencies, yes. It also scales the problems.</p>
</blockquote>

<p>This is exactly right. Problems in simple architectures are relatively easy to solve. In fact, I’d go as far as to say that we’ve probably solved them in all of the traditional archetypes, both in theory and in practice.</p>

<p>On the other hand, complex architectures lead to exponentially more difficult problems. There are probably lots of problems in these various complex architectures that we don’t even know exist yet. And then there are those problems that we <em>do</em> know about that we think will only occur in very rare (or even “impossible”) circumstances so they get considerably less attention devoted to them.</p>

<p>Those of us who have careers, jobs, and hobbies in an engineering discipline need to remember this when we make decisions about the design of a new or existing system. Just because we can’t <em>see</em> the underlying platform, because it’s been abstracted away from us, doesn’t mean that it doesn’t exist. For example, much of the recent AWS downtime was contributed to by design flaws in the Elastic Block Store system. If you think you should be hosted on the cloud, use it, but take the time to understand the systems under the hood.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/amazons-relational-database-service-rds-the-black-box-from-hell/">Amazon&#8217;s Relational Database Service (RDS) &#8211; the Black Box From Hell</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-08-10T00:00:00-07:00" pubdate data-updated="true">Aug 10<span>th</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h1 id="section"></h1>

<p>One morning I woke up early and checked my email. My plan was to check that my
inbox was empty for some peace of mind and then go back to bed for a few more
hours (I love Sundays). But that isn’t what happened. Instead, upon opening my
inbox I was alerted that one of a client’s database servers was offline. I
snapped out of my haze and immediately got to work.</p>

<p>This particular database server was a RDS instance. RDS, or <a href="http://aws.amazon.com/rds/">Relational
Database Service</a>, is an Amazon-provided MySQL (or Oracle) server that runs
on top of the EC2 platform. The advantages to this service are that backups are
performed automatically (complete with point-in-time recovery,) snapshots are
supported, the instances can be resized with more or less RAM/CPU/storage
through the AWS console, and a whole bunch of other stuff (“maintenance”) is
supposed to be performed for you automatically.</p>

<p>The disadvantages don’t make themselves apparent until you need to debug or
troubleshoot a performance or availability issue. While CloudWatch metrics are
included as part of the RDS package, knowing how much CPU, RAM, or storage
space you’re using is only a very small part of knowing what your database
instance is actually doing.</p>

<p>Prior to attempting recovery, the first thing I did was to check the
<a href="http://aws.amazon.com/cloudwatch/">CloudWatch</a> metrics. CloudWatch seems to have trouble reporting its data
when the system is under durress because there were periods where there was
data and there were periods where there wasn’t. The next thing I did was check
the RDS event logs. Don’t get excited, the RDS event log is not a UI wrapped
around system logs, it’s just a couple of entries here and there on what Amazon
RDS decides to publish. The last entry in the event log was a backup job that
started several hours before and never finished. These typically only take one
to two minutes to finish on this instance so I knew something was wrong.</p>

<p>I didn’t want to waste time trying to troubleshoot while the database was down
so I instead moved immediately to recovery and rebooted the instance through
the AWS console. It’s like <a href="http://onlinelibrary.wiley.com/doi/10.1002/bltj.20187/abstract">Charles McPhail</a> says, “<a href="http://onlinelibrary.wiley.com/doi/10.1002/bltj.20187/abstract">Respond, Restore,
Resolve</a>.” After about a whole 20 to 30 minutes the database server began
accepting connections again but the instance was never taken out of the
“REBOOTING” state when it should have transitioned to “STARTED”. With the
instance in the “REBOOTING” state, my only option now was to recover from a
previous backup as the rest of the functionality is disabled unless the
instance is in a “STARTED” state.</p>

<p>To make matters worse, the various components in our infrastructure were
connecting to this database server and were making it impossible to find out
what’s going on. The max connection limit was reached and I was no longer able
to login and view the process list or analyze the status variables.</p>

<p>At this point, I decided my only course of action was to spin up a new instance
from a previous backup. I made this request through the AWS console and, two to
three hours later, my new instance was finally up and running. About a half an
hour prior to this, the old instance was transitioned into a “FAILED” state and
shut down. When your instance is in the “FAILED” state, you cannot restart it.
Your only option is to restore from backup. In my case, it took several hours
for AWS to declare the instance as failed and it took several hours to restore
the backup. I did not know that the “FAILED” state was even a possible state
and had no idea that AWS could just kill an instance like that. To top it all
off, Amazon sent a very nice email to the owner of the account (my client the
CEO) explaining that we’ve been using an unsupported storage engine all this
time.</p>

<p>As it turns out, I missed the note in the <a href="http://docs.amazonwebservices.com/AmazonRDS/latest/UserGuide/">RDS User Guide</a> that says that
MyISAM is not supported, particularly when it comes to data recovery. While I
understand why RDS made this decision (MyISAM gets corrupted easily and is not
easy to repair sometimes,) I felt misled and uninformed about the support of
the storage engines. Yes, the note is in the RDS User Guide, however, it is not
mentioned anywhere in the main page about RDS nor is it in the <a href="http://aws.amazon.com/rds/faqs/">RDS FAQs</a>
(where the string “MyISAM” only appears once).</p>

<p>A few weeks have gone by and we have taken steps to avoid and reduce the damage
from these types of outages in the future. However, we still occasionally
receive an alert where an RDS instance stops accepting connections for one to
two minutes at a time and all the event log has to say is that the instance has
been “recovered.” Recovered from what exactly? What did you do to it? Why does
this keep happening? How do we make it stop?</p>

<p>In summary, I’ll probably never know because on RDS you do not have access to
the underlying OS. This means:</p>

<ul>
  <li>You do not have access to the OS process list</li>
  <li>You do not have access to things like top, htop, iostat, or dstat</li>
  <li>You do not have access to the process list if the MySQL process isn’t accepting connections</li>
  <li>You do not have access to any system logs</li>
</ul>

<p>If you just need a quick and dirty MySQL server and you almost never want to
worry about the status of your backups, go ahead and use RDS. However, if
you’re concerned about reliability (that you control,) being able to
effectively troubleshoot problems, and knowing the state of your underlying OS,
RDS is not right for you.</p>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/a-couple-of-python-snippets/">A Couple of Python Snippets</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-06-30T00:00:00-07:00" pubdate data-updated="true">Jun 30<span>th</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h1 id="section"></h1>

<p>I haven’t updated in awhile but I decided to drop a couple of gists in here and call it a post. These snippets are incredibly simple and I don’t expect to “wow” anybody here, but I was asked for them recently and am posting them here.</p>

<h1 id="group-words-by-their-first-letter-in-python">Group words by their first letter in Python</h1>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span>group_by_letter.py</span><a href="https://gist.github.com/chooper/1050517#file-group_by_letter-py">link</a></figcaption> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
<span class="line-number">16</span>
<span class="line-number">17</span>
<span class="line-number">18</span>
<span class="line-number">19</span>
</pre></td><td class="code"><pre><code class="py"><span class="line"><span class="c">#!/usr/bin/env python</span>
</span><span class="line">
</span><span class="line"><span class="sd">&quot;&quot;&quot;Group words by their first letter&quot;&quot;&quot;</span>
</span><span class="line">
</span><span class="line"><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">defaultdict</span>
</span><span class="line">
</span><span class="line"><span class="k">def</span> <span class="nf">group_by_letter</span><span class="p">(</span><span class="n">words</span><span class="p">):</span>
</span><span class="line">    <span class="n">buckets</span> <span class="o">=</span> <span class="n">defaultdict</span><span class="p">(</span><span class="k">lambda</span><span class="p">:[])</span>
</span><span class="line">    <span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">words</span><span class="p">:</span>
</span><span class="line">        <span class="n">buckets</span><span class="p">[</span><span class="n">word</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">lower</span><span class="p">()]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">word</span><span class="p">)</span>
</span><span class="line">    <span class="k">return</span> <span class="n">buckets</span>
</span><span class="line">
</span><span class="line"><span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">&#39;__main__&#39;</span><span class="p">:</span>
</span><span class="line">    <span class="k">print</span> <span class="n">group_by_letter</span><span class="p">([</span><span class="s">&#39;narragansett&#39;</span><span class="p">,</span><span class="s">&#39;brooklyn lager&#39;</span><span class="p">,</span><span class="s">&#39;magic</span>
</span><span class="line"><span class="n">hat</span><span class="s">&#39;,&#39;</span><span class="n">dog</span> <span class="n">fish</span> <span class="n">head</span><span class="s">&#39;,&#39;</span><span class="n">shock</span> <span class="n">top</span><span class="s">&#39;,&#39;</span><span class="n">ten</span> <span class="n">penny</span><span class="s">&#39;,&#39;</span><span class="n">bass</span><span class="s">&#39;])</span>
</span><span class="line">    <span class="c"># Output: defaultdict(&lt;function &lt;lambda&gt; at 0x7fc83416b2a8&gt;, {&#39;b&#39;:</span>
</span><span class="line">    <span class="c"># [&#39;bass&#39;, &#39;brooklyn lager&#39;], &#39;d&#39;: [&#39;dog fish head&#39;], &#39;m&#39;: [&#39;magic</span>
</span><span class="line">    <span class="c"># hat&#39;], &#39;n&#39;:[&#39;narragansett&#39;], &#39;s&#39;: [&#39;shock top&#39;], &#39;t&#39;: [&#39;ten</span>
</span><span class="line">    <span class="c"># penny&#39;]})</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<h1 id="merging-list-of-lists-in-python-using-reduce">Merging list of lists in Python using reduce</h1>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span>merge_lists.py</span><a href="https://gist.github.com/chooper/1054819#file-merge_lists-py">link</a></figcaption> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
</pre></td><td class="code"><pre><code class="py"><span class="line"><span class="c">#!/usr/bin/env python</span>
</span><span class="line">
</span><span class="line"><span class="sd">&quot;&quot;&quot;Merging list of lists in Python using reduce()&quot;&quot;&quot;</span>
</span><span class="line">
</span><span class="line"><span class="k">def</span> <span class="nf">merge_lists</span><span class="p">(</span><span class="n">list_of_lists</span><span class="p">):</span>
</span><span class="line">    <span class="k">return</span> <span class="nb">reduce</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">:</span> <span class="n">x</span><span class="o">+</span><span class="n">y</span><span class="p">,</span> <span class="n">list_of_lists</span><span class="p">)</span>
</span><span class="line">
</span><span class="line"><span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">&#39;__main__&#39;</span><span class="p">:</span>
</span><span class="line">    <span class="n">my_big_list</span> <span class="o">=</span> <span class="p">[</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">],</span> <span class="p">[</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">],</span> <span class="p">]</span>
</span><span class="line">    <span class="k">print</span> <span class="n">merge_lists</span><span class="p">(</span><span class="n">my_big_list</span><span class="p">)</span>
</span><span class="line">    <span class="c"># output: [1, 2, 3, 3, 4, 5, 6, 7, 8]</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/common-single-point-of-failure-people/">Common Single Point of Failure: People</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-06-07T00:00:00-07:00" pubdate data-updated="true">Jun 7<span>th</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h1 id="section"></h1>

<p>Yesterday, when I arrived at my other job on my school’s help desk, I found out that my supervisor was not coming into work at all. This is OK; I enjoy the autonomy of working unsupervised. However, at this particular university’s help desk, my supervisor is the <em>only</em> person who can reset security profile information on student accounts. She is also the only person who assigns work orders to the technicians that work here. I’ll spare you the details, but probably 80-90% of our workload on any given day gets passed through this one person.</p>

<p>This is a serious problem. By passing tasks through a single person with no backup we are guaranteeing the collapse of our support system. I’ve seen this at other gigs and I bet you have, too.</p>

<p>Maybe it’s the “one guy” who has access to the firewall or router. Or maybe there’s that only person who knows how to configure a particular piece of software or solve a specific problem. Truthfully, you’re probably that guy and don’t even realize it. Ever get work-related phone calls (or worse: called in) during your “time off?” Red flag.</p>

<p>All of these conditions are single points of failures (SPoF). Too often, we sysadmins, developers, and engineers only think of SPoFs in terms of hardware and software. But if we look at what actually makes up the entire information system (hardware, software, data, procedures, and <em>people)</em>, we see that we’re part of it too. This hoarding of knowledge often results in a failure of the system itself and very frequently makes existing failures worse.</p>

<h1 id="example">Example</h1>

<p>A customer-facing database server stops responding. You’re not really familiar with what database(s) it serves but customers are complaining that it’s down or very slow. There’s another guy that normally handles this system but he’s out of town and completely unreachable. You want to diagnose but you don’t even know how to access the system. Do you blindly reboot (risking data loss and corruption)? Sit and wait it out? Learn how to summon your co-worker’s spirit?</p>

<p>One very real situation occurred when I worked at a small Internet Service Provider. A very big client of ours called and said that a very large portion of their network was down (we managed it, too). Did I have the credentials to the router in question? No. Did the client? No. Who did? *That guy *did, the one who is usually too busy running around to return calls (incidentally, the owner). He did finally return our cries for help… 3 hours later. Was the problem difficult to solve? No. In fact, it was fixed within minutes of receiving the proper credentials. (Funny story, one of their on-staff techs plugged a network camera into the network and accidentally assigned their router’s address as the camera’s IP :)) Sure, this mistake was dumb, but did this client need to suffer degraded availability for these 3 hours? Absolutely not.</p>

<h2 id="solution">Solution</h2>

<p>The obvious, and perhaps only, solution to this problem is to make as much of your knowledge available as possible. The more knowledge you offload from your brain, the better and more efficient the system becomes. I know to some this might seem a little counter-productive. After all, having this knowledge is job security…right?</p>

<p>No, absolutely not. Holding company knowledge hostage should never be how you ensure your job security (<em>that’s a myth anyways</em>).</p>

<p>With that being said, please don’t spend all your energy and effort on documentation only to abandon the effort a month later. I was speaking to a friend of mine earlier when he mentioned that very often he comes across company Wikis all the time that usually contain outdated information and haven’t even been logged into in 6 months.</p>

<p>Allow me to re-iterate, do* not* go on documentation sprees. Document everything <em>when</em> you do it and share that information *when *you do it. Regularly. Constantly. If you wait until you have alot of information to document, then you will probably become overwhelmed and just not do it. When I was in the Air Force, we had a saying:</p>

<h2 id="the-job-aint-over-till-the-paperwork-is-done">The job ain’t over till the paperwork is done.</h2>

<p>Simply put, add documentation into your regular workflow. The investment is small and the returns are great.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/controlling-django-apps-with-an-init-script/">Controlling Django Apps With an Init Script</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-05-29T00:00:00-07:00" pubdate data-updated="true">May 29<span>th</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h1 id="section"></h1>

<p>If you’re reading this, you probably already know that an init script is a specific style of script that allows you to control daemon processes. In particular, they are used to start processes at boot and terminate them at shutdown. What follows is an example script I use to control one of my Django FastCGI projects. This particular example was written for Ubuntu and Debian but could probably be modified for RedHat/CentOS or other distros.</p>

<p>Please refer to your Distro’s documentation on how to install and activate init scripts (hint: See /etc/init.d/ and the man page for update-rc.d if on Debian or Ubuntu.)</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span>django-fcgi-init.sh</span><a href="https://gist.github.com/anonymous/997829#file-django-fcgi-init-sh">link</a></figcaption> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
<span class="line-number">16</span>
<span class="line-number">17</span>
<span class="line-number">18</span>
<span class="line-number">19</span>
<span class="line-number">20</span>
<span class="line-number">21</span>
<span class="line-number">22</span>
<span class="line-number">23</span>
<span class="line-number">24</span>
<span class="line-number">25</span>
<span class="line-number">26</span>
<span class="line-number">27</span>
<span class="line-number">28</span>
<span class="line-number">29</span>
<span class="line-number">30</span>
<span class="line-number">31</span>
<span class="line-number">32</span>
<span class="line-number">33</span>
<span class="line-number">34</span>
<span class="line-number">35</span>
<span class="line-number">36</span>
<span class="line-number">37</span>
<span class="line-number">38</span>
<span class="line-number">39</span>
<span class="line-number">40</span>
<span class="line-number">41</span>
<span class="line-number">42</span>
<span class="line-number">43</span>
<span class="line-number">44</span>
<span class="line-number">45</span>
<span class="line-number">46</span>
<span class="line-number">47</span>
<span class="line-number">48</span>
<span class="line-number">49</span>
<span class="line-number">50</span>
<span class="line-number">51</span>
<span class="line-number">52</span>
<span class="line-number">53</span>
<span class="line-number">54</span>
<span class="line-number">55</span>
<span class="line-number">56</span>
<span class="line-number">57</span>
<span class="line-number">58</span>
<span class="line-number">59</span>
<span class="line-number">60</span>
<span class="line-number">61</span>
<span class="line-number">62</span>
<span class="line-number">63</span>
<span class="line-number">64</span>
<span class="line-number">65</span>
</pre></td><td class="code"><pre><code class="sh"><span class="line"><span class="c">#!/bin/sh</span>
</span><span class="line">
</span><span class="line"><span class="nv">PATH</span><span class="o">=</span>/sbin:/bin:/usr/sbin:/usr/bin
</span><span class="line">
</span><span class="line"><span class="nv">FCGIHOST</span><span class="o">=</span><span class="s2">&quot;127.0.0.1&quot;</span>
</span><span class="line"><span class="nv">FCGIPORT</span><span class="o">=</span><span class="s2">&quot;5000&quot;</span>
</span><span class="line"><span class="nv">RUNAS</span><span class="o">=</span><span class="s2">&quot;projectuser:projectgroup&quot;</span>
</span><span class="line"><span class="nv">UMASK</span><span class="o">=</span><span class="s2">&quot;200&quot;</span>
</span><span class="line"><span class="nv">DAEMON</span><span class="o">=</span><span class="s2">&quot;/path/to/django/manage.py&quot;</span>
</span><span class="line"><span class="nv">NAME</span><span class="o">=</span><span class="s2">&quot;MyProject&quot;</span>
</span><span class="line"><span class="nv">DESC</span><span class="o">=</span><span class="s2">&quot;My Django Project&quot;</span>
</span><span class="line"><span class="nv">RUNDIR</span><span class="o">=</span>/var/run/<span class="nv">$NAME</span>
</span><span class="line"><span class="nv">PIDFILE</span><span class="o">=</span>/var/run/<span class="nv">$NAME</span>/<span class="nv">$NAME</span>.pid
</span><span class="line"><span class="nv">ENV</span><span class="o">=</span><span class="s2">&quot;env -i LANG=C PATH=/usr/local/bin:/usr/bin:/bin&quot;</span>
</span><span class="line"><span class="nv">SSD</span><span class="o">=</span><span class="s2">&quot;/sbin/start-stop-daemon&quot;</span>
</span><span class="line">
</span><span class="line"><span class="nv">DAEMON_OPTS</span><span class="o">=</span><span class="s2">&quot;runfcgi host=$FCGIHOST port=$FCGIPORT pidfile=$PIDFILE</span>
</span><span class="line"><span class="s2">daemonize=true&quot;</span>
</span><span class="line">
</span><span class="line"><span class="nb">test</span> -x <span class="nv">$DAEMON</span> <span class="o">||</span> <span class="nb">exit </span>0
</span><span class="line">
</span><span class="line"><span class="nb">set</span> -e
</span><span class="line">
</span><span class="line">. /lib/lsb/init-functions
</span><span class="line">
</span><span class="line"><span class="c"># Set up /var/run directory to write out pidfile</span>
</span><span class="line">mkdir -p <span class="s2">&quot;$RUNDIR&quot;</span>
</span><span class="line">chown <span class="s2">&quot;$RUNAS&quot;</span> <span class="s2">&quot;$RUNDIR&quot;</span>
</span><span class="line">chmod 775 <span class="s2">&quot;$RUNDIR&quot;</span>
</span><span class="line">
</span><span class="line"><span class="k">case</span> <span class="s2">&quot;$1&quot;</span> in
</span><span class="line"> start<span class="o">)</span>
</span><span class="line"> log_daemon_msg <span class="s2">&quot;Starting $DESC&quot;</span> <span class="nv">$NAME</span>
</span><span class="line"> <span class="k">if</span> ! start-stop-daemon --start --quiet --oknodo <span class="se">\</span>
</span><span class="line"> --pidfile <span class="nv">$PIDFILE</span> --umask <span class="s2">&quot;$UMASK&quot;</span> --chuid <span class="s2">&quot;$RUNAS&quot;</span> <span class="se">\</span>
</span><span class="line"> --exec <span class="nv">$DAEMON</span> -- <span class="nv">$DAEMON_OPTS</span>
</span><span class="line"> <span class="k">then</span>
</span><span class="line"><span class="k"> </span>log_end_msg 1
</span><span class="line"> <span class="k">else</span>
</span><span class="line"><span class="k"> </span>chmod 400 <span class="nv">$PIDFILE</span>
</span><span class="line"> log_end_msg 0
</span><span class="line"> <span class="k">fi</span>
</span><span class="line"> ;;
</span><span class="line"> stop<span class="o">)</span>
</span><span class="line"> log_daemon_msg <span class="s2">&quot;Stopping $DESC&quot;</span> <span class="nv">$NAME</span>
</span><span class="line"> <span class="k">if</span> <span class="o">[</span> -f <span class="nv">$PIDFILE</span> <span class="o">]</span>; <span class="k">then</span>
</span><span class="line"><span class="k"> </span><span class="nb">kill</span> <span class="sb">`</span>cat -- <span class="nv">$PIDFILE</span><span class="sb">`</span>
</span><span class="line"> rm -f -- <span class="nv">$PIDFILE</span>
</span><span class="line"> log_end_msg 0
</span><span class="line"> <span class="k">fi</span>
</span><span class="line"> ;;
</span><span class="line"> restart|force-reload<span class="o">)</span>
</span><span class="line"> <span class="nv">$0</span> stop
</span><span class="line"> <span class="nv">$0</span> start
</span><span class="line"> ;;
</span><span class="line"> status<span class="o">)</span>
</span><span class="line"> status_of_proc -p <span class="s2">&quot;$PIDFILE&quot;</span> <span class="s2">&quot;$DAEMON&quot;</span> <span class="s2">&quot;$NAME&quot;</span> <span class="o">&amp;&amp;</span> <span class="nb">exit </span>0 <span class="o">||</span> <span class="nb">exit</span> <span class="nv">$?</span>
</span><span class="line"> ;;
</span><span class="line"> *<span class="o">)</span>
</span><span class="line"> <span class="nb">echo</span> <span class="s2">&quot;Usage: $0 {start|stop|restart|force-reload|status}&quot;</span> &gt;&amp;2
</span><span class="line"> <span class="nb">exit </span>1
</span><span class="line"> ;;
</span><span class="line"><span class="k">esac</span>
</span><span class="line">
</span><span class="line"><span class="nb">exit </span>0
</span></code></pre></td></tr></table></div></figure></notextile></div>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/one-moms-way-of-getting-things-done/">One Mom&#8217;s Way of Getting Things Done</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-04-26T00:00:00-07:00" pubdate data-updated="true">Apr 26<span>th</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h1 id="section"></h1>

<p>For work study (or something like that,) I’ve been working on my school’s help desk. I find alot of humor in the way people behave when they feel that they “need” something to get done.</p>

<p>For example, I once had a father call who wanted to pay his son’s tuition online and it “needed” to be done “that day.” Unfortunately, he didn’t know his son’s password and wanted me to reset it for him. I can’t do that per some federal law that governs students’ privacy of their educational records (so I’m told,) so I offered to transfer him to the bursar who probably could have taken payment information over the phone, but he decided instead to mail a check. This was funny to me because the payment could have been made instantly, but he instead chose to deliver the payment through a medium that would take 2-3 days to arrive.</p>

<p>Here’s another example of the way parents try to “get things done” through my school’s help desk. My first phone call of the day:</p>

<blockquote>
  <p>Me: ITS Help Desk, this is Charles, how may I help you?</p>

  <p>Someone’s Mom: Look, I just really need to reset my son’s password. If I’m paying the one paying the fees, wouldn’t it make sense that I have access to his account?</p>

  <p>Me: I’m sorry, but we are not able to reset a student’s password for anyone other than the student per federal law.</p>

  <p>Someone’s Mom: Fine, I’ll just keep calling back until I get someone to reset it for me. <strong>*click*</strong></p>
</blockquote>

<p>My second phone call of the day:</p>

<blockquote>
  <p>Me: ITS Help Desk, this is Charles. How may I help you?</p>

  <p>Someone’s Mom: Oops, I got you again. <strong>*click*</strong></p>
</blockquote>

<p>There are usually only 2-3 of us at any given time and phone calls come in round robin. We sit next to each other. This technique of “getting things done” doesn’t work in this environment.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/nesit-hackerspace-break-in/">NESIT Hackerspace Break-In</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-04-23T00:00:00-07:00" pubdate data-updated="true">Apr 23<span>rd</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h1 id="section"></h1>

<p><a href="http://www.nesit.net/">NESIT, a Connecticut hackerspace</a>, was burglarized Sunday morning between 3:00am and 4:30am and is offering a $500 reward for information leading to the arrest of the burglar. They have released some of their security footage from the burglary. They ask that anyone who recognizes the burglar or has information call them at 1-203-51-HACKS (1-203-514-2257).</p>

<p>Within the first 10 seconds, you see what appears to be a camera in the hallway get covered up by something from behind. Afterwards, you can see someone calmly walking around the inside of the hackerspace for the next hour and a half with a headlamp on. The headlamp turns out to be pretty beneficial for NESIT, because as a Facebook commentator pointed out, you can see that the burglar is roughly as tall as one of the shelves in the space.</p>

<p>What I found most interesting, however, is that around 8 minutes and 30 seconds into the footage you get a pretty nice shot of… cleavage? No, I’m not being a jokester. It *appeared *to me that the burglar was wearing a low-cut shirt with some type of line up the middle. It looked like cleavage to me and the second opinion of my girlfriend, but NESIT believes that this was actually a shirt that was wrapped around the burglar’s head. <strong>UPDATE</strong>: After a second, closer look at the surveillance footage, I agree with NESIT.</p>

<p>Despite the security footage being black and white and fairly low in quality, it tells us quite a bit.</p>

<ul>
  <li>The burglar was familiar enough with the location to know about the hallway surveillance camera.</li>
  <li>The burglar was <em>not</em> familiar enough to know about the other cameras inside the hackerspace.</li>
  <li>The burglar was comfortable enough to spend **an hour and a half **walking around and looking through boxes and drawers.</li>
  <li>The burglar’s height is roughly as tall as one of the shelves in the hackerspace. <strong>UPDATE</strong>: I’m told that the height is between 6’0″ and 6’2″.</li>
  <li>The burglar has enough strength to pry off the lock on the door and part of the concrete wall.</li>
</ul>

<p>I sure hope they catch the bad guy.</p>
</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/blog/page/4/">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/blog/page/2/">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <!-- Ads removed -->
</section>
<section>
  <h1>About Charles</h1>
	<img src="http://www.gravatar.com/avatar/9f645d339b731bc99a95704ad4289aac.png?size=160" alt="Charles Hooper"/>
	<p>Charles is a hacker who works at Heroku as an SRE. He enjoys grilling, gardening, and home brewing.</p>
</section>
<section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/on-slack-and-upkeep/">On Slack and Upkeep</a>
      </li>
    
      <li class="post">
        <a href="/blog/what-i-do-sre/">What I Do as an SRE</a>
      </li>
    
      <li class="post">
        <a href="/blog/actual-email-from-recruiter/">An actual email from a recruiter</a>
      </li>
    
      <li class="post">
        <a href="/blog/troubleshooting-elbs-with-elbping/">Troubleshooting ELBs with elbping</a>
      </li>
    
      <li class="post">
        <a href="/blog/my-def-con-21-experience/">My DEF CON 21 Experience</a>
      </li>
    
  </ul>
</section>

<section>
  <!-- Ads removed -->
</section>

  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2014 - Charles Hooper -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'charleshooper';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
